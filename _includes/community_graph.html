{% comment %}
  Open-Source Community Building Service Card
  Interactive network graph service card for Open-Source Community Building service
{% endcomment %}

{% comment %} T034: Include shared network graph function {% endcomment %}
{% include network_graph.js %}

{% comment %} T032: Create service card structure {% endcomment %}
<div class="service-card">
  {% comment %} T033: Add canvas element with ID {% endcomment %}
  <canvas id="canvas-community-{{ include.id | default: 1 }}" class="network-canvas" aria-hidden="true"></canvas>
  {% comment %} T036: Add service title {% endcomment %}
  <h3 class="service-title">Open-Source Community Building</h3>
  {% comment %} T037: Add service description {% endcomment %}
  <p class="service-description">
    Fostering vibrant open-source communities through engagement, collaboration, and shared innovation.
  </p>
</div>

{% comment %} T048-T051: Add inline CSS for styling {% endcomment %}
<style>
.service-card {
  background-color: #ffffff;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  margin-bottom: 2rem;
  width: 100%;
}

.network-canvas {
  width: 100%;
  height: 180px;
  background-color: #1a1a1a;
  border-radius: 4px;
  display: block;
  cursor: crosshair;
}

.service-title {
  font-size: 1.5rem;
  font-weight: 600;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
  line-height: 1.3;
}

.service-description {
  font-size: 1rem;
  line-height: 1.6;
  margin-top: 0.5rem;
  margin-bottom: 0;
  color: #4a4a4a;
}

{% comment %} T057: Add responsive CSS media query for mobile (< 768px) {% endcomment %}
@media (max-width: 768px) {
  .service-card {
    padding: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .service-title {
    font-size: 1.25rem;
  }
  
  .service-description {
    font-size: 0.9rem;
  }
}

{% comment %} T060: Add responsive CSS media query for desktop (> 1024px) {% endcomment %}
@media (min-width: 1025px) {
  .service-card {
    padding: 2rem;
  }
  
  .service-title {
    font-size: 1.75rem;
  }
  
  .service-description {
    font-size: 1.1rem;
  }
}
</style>

{% comment %} T035: Add JavaScript initialization {% endcomment %}
<script>
(function() {
  'use strict';
  
  function initServiceCard() {
    const canvasId = 'canvas-community-{{ include.id | default: 1 }}';
    const nodeCount = 20;
    const color = '#60a5fa'; // Blue
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() {
        createInteractiveNetwork(canvasId, nodeCount, color);
      });
    } else {
      createInteractiveNetwork(canvasId, nodeCount, color);
    }
  }
  
  initServiceCard();
})();
</script>

